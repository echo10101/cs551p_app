{% extends 'base.html' %}
{% block title %}Matches{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1>All Matches</h1>
  <form class="row g-2" method="get" action="{{ url_for('matches.list_matches') }}">
    <div class="col-auto">
      <input type="text" class="form-control" name="q" placeholder="Team" value="{{ q or '' }}">
    </div>
    <div class="col-auto">
      <input type="text" class="form-control" name="year" placeholder="Year" value="{{ year or '' }}">
    </div>
    <div class="col-auto">
      <input type="text" class="form-control" name="country" placeholder="Country" value="{{ country or '' }}">
    </div>
    <div class="col-auto">
      <button type="submit" class="btn btn-primary">Search</button>
    </div>
  </form>
</div>

{% if matches %}
<table class="table table-striped table-bordered">
  <thead class="table-dark">
    <tr>
      <th>#</th>
      <th>Home</th>
      <th>Away</th>
      <th>Score</th>
      <th>Date</th>
      <th>Country</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  {% for m in matches %}
    <tr>
      <td>{{ m.id }}</td>
      <td>{{ m.home_team }}</td>
      <td>{{ m.away_team }}</td>
      <td>{{ m.home_score }}â€“{{ m.away_score }}</td>
      <td>{{ m.date }}</td>
      <td>{{ m.match_country }}</td>
      <td>
        <a class="btn btn-sm btn-outline-secondary"
           href="{{ url_for('matches.match_detail', id=m.id) }}">
          Details
        </a>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
{% else %}
<div class="alert alert-warning">No matches found.</div>
{% endif %}
{% endblock %}
